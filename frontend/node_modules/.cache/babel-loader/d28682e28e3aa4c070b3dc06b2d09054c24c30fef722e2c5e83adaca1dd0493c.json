{"ast":null,"code":"import React,{useState}from\"react\";import{searchCompanies}from\"../../api\";import ListPortfolio from\"../../Components/Portfolio/ListPortfolio/ListPortfolio\";import CardList from\"../../Components/CardList/CardList\";import Search from\"../../Components/Search/Search\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchPage=props=>{const[search,setSearch]=useState(\"\");const[searchResult,setSearchResult]=useState([]);const[portfolioValues,setPortfolioValues]=useState([]);const[serverError,setServerError]=useState(\"\");const handleSearchChange=e=>{setSearch(e.target.value);};const onPortfolioCreate=e=>{e.preventDefault();const exitst=portfolioValues.find(value=>value===e.target[0].value);if(exitst)return;const updatedPortfolio=[...portfolioValues,e.target[0].value];setPortfolioValues(updatedPortfolio);};const onPortfolioDelete=e=>{e.preventDefault();const removed=portfolioValues.filter(value=>{return value!==e.target[0].value;});setPortfolioValues(removed);};const onSearchSubmit=async e=>{e.preventDefault();const result=await searchCompanies(search);if(typeof result===\"string\"){setServerError(result);}else if(Array.isArray(result.data)){setSearchResult(result.data);}console.log(searchResult);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[serverError&&/*#__PURE__*/_jsx(\"h1\",{children:serverError}),/*#__PURE__*/_jsx(Search,{onSearchSubmit:onSearchSubmit,search:search,handleSearchChange:handleSearchChange}),/*#__PURE__*/_jsx(ListPortfolio,{portfolioValues:portfolioValues,onPortfolioDelete:onPortfolioDelete}),/*#__PURE__*/_jsx(CardList,{searchResults:searchResult,onPortfolioCreate:onPortfolioCreate})]});};export default SearchPage;","map":{"version":3,"names":["React","useState","searchCompanies","ListPortfolio","CardList","Search","jsx","_jsx","jsxs","_jsxs","SearchPage","props","search","setSearch","searchResult","setSearchResult","portfolioValues","setPortfolioValues","serverError","setServerError","handleSearchChange","e","target","value","onPortfolioCreate","preventDefault","exitst","find","updatedPortfolio","onPortfolioDelete","removed","filter","onSearchSubmit","result","Array","isArray","data","console","log","className","children","searchResults"],"sources":["C:/Users/xifi3/Desktop/FinanceProject/frontend/src/Pages/SearchPage/SearchPage.tsx"],"sourcesContent":["import React, { ChangeEvent, SyntheticEvent, useState } from \"react\";\r\nimport { CompanySearch } from \"../../company\";\r\nimport { searchCompanies } from \"../../api\";\r\nimport Navbar from \"../../Components/Navbar/Navbar\";\r\nimport ListPortfolio from \"../../Components/Portfolio/ListPortfolio/ListPortfolio\";\r\nimport CardList from \"../../Components/CardList/CardList\";\r\nimport Search from \"../../Components/Search/Search\";\r\n\r\ninterface Props {}\r\n\r\nconst SearchPage = (props: Props) => {\r\n  const [search, setSearch] = useState<string>(\"\");\r\n  const [searchResult, setSearchResult] = useState<CompanySearch[]>([]);\r\n  const [portfolioValues, setPortfolioValues] = useState<string[]>([]);\r\n  const [serverError, setServerError] = useState<string>(\"\");\r\n\r\n  const handleSearchChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setSearch(e.target.value);\r\n  };\r\n  const onPortfolioCreate = (e: any) => {\r\n    e.preventDefault();\r\n    const exitst = portfolioValues.find((value) => value === e.target[0].value);\r\n    if (exitst) return;\r\n    const updatedPortfolio = [...portfolioValues, e.target[0].value];\r\n    setPortfolioValues(updatedPortfolio);\r\n  };\r\n  const onPortfolioDelete = (e: any) => {\r\n    e.preventDefault();\r\n    const removed = portfolioValues.filter((value) => {\r\n      return value !== e.target[0].value;\r\n    });\r\n    setPortfolioValues(removed);\r\n  };\r\n\r\n  const onSearchSubmit = async (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    const result = await searchCompanies(search);\r\n    if (typeof result === \"string\") {\r\n      setServerError(result);\r\n    } else if (Array.isArray(result.data)) {\r\n      setSearchResult(result.data);\r\n    }\r\n    console.log(searchResult);\r\n  };\r\n  return (\r\n    <div className=\"App\">\r\n      {serverError && <h1>{serverError}</h1>}\r\n      <Search\r\n        onSearchSubmit={onSearchSubmit}\r\n        search={search}\r\n        handleSearchChange={handleSearchChange}\r\n      />\r\n      <ListPortfolio\r\n        portfolioValues={portfolioValues}\r\n        onPortfolioDelete={onPortfolioDelete}\r\n      />\r\n      <CardList\r\n        searchResults={searchResult}\r\n        onPortfolioCreate={onPortfolioCreate}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}